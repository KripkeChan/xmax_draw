<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Gift Assignment</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Snow Animation Styles */
        body {
            overflow: hidden; /* Prevent scrolling due to snowflakes */
            background: #f0f8ff; /* Light blue background */
            position: relative;
        }

        .snowflake {
            position: absolute;
            top: -10px; /* Start above the viewport */
            color: white; /* Snowflake color */
            font-size: 1.5em; /* Size of the snowflakes */
            opacity: 0.8; /* Slight transparency */
            pointer-events: none; /* Prevent interaction with snowflakes */
            user-select: none; /* Prevent text selection */
        }

        @keyframes fall {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(100vh); /* Fall to the bottom of the viewport */
            }
        }

        .snowflake {
            animation-name: fall;
            animation-timing-function: linear;
            animation-fill-mode: forwards;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÅ You need to give a gift to: üéÅ</h1>
        <p id="giftReceiver">Loading...</p>
        <img id="receiverPhoto" src="" alt="Receiver's Photo" style="display:none;">
    </div>
    <script>
        // Snow Animation Script
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';
            snowflake.innerHTML = '‚ùÑ'; // Snowflake character
            document.body.appendChild(snowflake);

            // Randomize the position and animation duration
            const xPos = Math.random() * window.innerWidth;
            const duration = Math.random() * 3 + 2; // Between 2s and 5s
            snowflake.style.left = xPos + 'px';
            snowflake.style.animationDuration = duration + 's';

            // Remove the snowflake after it falls
            setTimeout(() => {
                snowflake.remove();
            }, duration * 1000);
        }

        // Create snowflakes at intervals
        setInterval(createSnowflake, 300); // Create a snowflake every 300ms

        // Updated Gift assignments data with images
        const giftAssignments = {
            'kIh^=m': { name: 'Jacky', photo: 'images/Dr._curry.jpg '},
            'tJ*3U,': { name: 'Justin', photo: 'images/Pacco.jpg '},
            'l5yFX>': { name: 'Yumi', photo: 'images/Hai_so.jpg '},
            'yMgsdg': { name: 'Jensen', photo: 'images/Hai_jai.jpg '},
            'RVK_9u': { name: 'allison', photo: 'images/Carol.jpg '},
            'g0MOeZ': { name: 'Carol', photo: 'images/Yenny.jpg '},
            'i<n](;': { name: 'Yumi', photo: 'images/Jasmine.jpg '},
            'csX-,N': { name: 'Pacco', photo: 'images/Vincent.jpg '},
            'K6wqD!': { name: 'Justin', photo: 'images/Fat_boy.jpg '},
            'g^ey4Y': { name: 'Fung fung', photo: 'images/Yumi.jpg '},
            'wdT}ps': { name: 'Hai jai', photo: 'images/Fung_fung.jpg '},
            'D,ZZv)': { name: 'Carol', photo: 'images/Justin.jpg '},
            'Yz^OsG': { name: 'Fat boy', photo: 'images/Jacky.jpg '},
            'J{c5.~': { name: 'Yenny', photo: 'images/Leo.jpg '},
            'o9N3qN': { name: 'Jacky', photo: 'images/Kwan_B.jpg '},
            'iKV!9f': { name: 'Yumi', photo: 'images/allison.jpg '},
            'jl]U>E': { name: 'allison', photo: 'images/Jensen.jpg '},
            'G+0Mz0': { name: 'Vincent', photo: 'images/Elise.jpg '}
        };

        // Function to get URL parameters
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Get the code from the URL
        const code = getQueryParam('code');
        console.log(code);
        const receiverInfo = giftAssignments[code];

        // Get the photo element before using it
        const photoElement = document.getElementById('receiverPhoto');

        if (receiverInfo) {
            photoElement.src = receiverInfo.photo; // Set the photo source
            photoElement.style.display = 'block'; // Show the photo
            document.getElementById('giftReceiver').textContent = receiverInfo.name; // Set the receiver's name
        } else {
            document.getElementById('giftReceiver').textContent = 'Code not found.'; // Handle invalid code
        }
    </script>
</body>
</html>